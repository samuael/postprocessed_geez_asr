import audio_processing.mix_noise as ap
import numpy as np
import librosa
import random


noise_sources = ['tr_10053_tr098015', 'tr_10092_tr098054', 'tr_100_tr01100', 'tr_1012_tr11013', 'tr_10163_tr099005', 'tr_10181_tr099023', 'tr_10188_tr099030', 'tr_10190_tr099032', 'tr_10216_tr099058', 'tr_10217_tr099059', 'tr_10221_tr099063', 'tr_10222_tr099064', 'tr_1026_tr11027', 'tr_10337_tr100059', 'tr_1035_tr11036', 'tr_10360_tr100082', 'tr_1045_tr11046', 'tr_10511_tr53119', 'tr_10553_tr30114', 'tr_1057_tr11058', 'tr_10588_tr04102', 'tr_10597_tr04111', 'tr_1060_tr11061', 'tr_10637_tr13102', 'tr_1063_tr11064', 'tr_1066_tr11067', 'tr_10685_tr03102', 'tr_10697_tr03114', 'tr_10699_tr03116', 'tr_10703_tr03120', 'tr_1071_tr11072', 'tr_10738_tr05106', 'tr_10741_tr05109', 'tr_1102_tr12003', 'tr_1112_tr12013', 'tr_1123_tr12024', 'tr_1135_tr12036', 'tr_1143_tr12044', 'tr_1160_tr12061', 'tr_1163_tr12064', 'tr_1166_tr12067', 'tr_1179_tr12080', 'tr_1191_tr12092', 'tr_1194_tr12095', 'tr_1196_tr12097', 'tr_1237_tr13038', 'tr_1242_tr13043', 'tr_1252_tr13053', 'tr_1258_tr13059', 'tr_1260_tr13061', 'tr_1263_tr13064', 'tr_1266_tr13067', 'tr_1268_tr13069', 'tr_1298_tr13099', 'tr_1301_tr14002', 'tr_1304_tr14005', 'tr_1317_tr14018', 'tr_1323_tr14024', 'tr_1325_tr14026', 'tr_1357_tr14058', 'tr_1360_tr14061', 'tr_1363_tr14064', 'tr_1366_tr14067', 'tr_1438_tr15039', 'tr_1460_tr15061', 'tr_1463_tr15064', 'tr_1466_tr15067', 'tr_146_tr02046', 'tr_1495_tr15096', 'tr_1502_tr16003', 'tr_1506_tr16007', 'tr_1516_tr16017', 'tr_1560_tr16061', 'tr_1563_tr16064', 'tr_1566_tr16067', 'tr_1572_tr16073', 'tr_1575_tr16076', 'tr_157_tr02057', 'tr_1588_tr16089', 'tr_159_tr02059', 'tr_1604_tr17005', 'tr_160_tr02060', 'tr_1614_tr17015', 'tr_1617_tr17018', 'tr_161_tr02061', 'tr_1627_tr17028', 'tr_164_tr02064', 'tr_1652_tr17053', 'tr_1660_tr17061', 'tr_1663_tr17064', 'tr_1666_tr17067', 'tr_167_tr02067', 'tr_168_tr02068', 'tr_16_tr01016', 'tr_1707_tr18008', 'tr_1759_tr18060', 'tr_1760_tr18061', 'tr_1763_tr18064', 'tr_1766_tr18067', 'tr_1776_tr18077', 'tr_1807_tr19008', 'tr_1809_tr19010', 'tr_1840_tr19041', 'tr_1843_tr19044', 'tr_1860_tr19061', 'tr_1863_tr19064', 'tr_1866_tr19067', 'tr_1878_tr19079', 'tr_1879_tr19080', 'tr_1892_tr19093', 'tr_1911_tr20012', 'tr_1922_tr20023', 'tr_1931_tr20032', 'tr_1942_tr20043', 'tr_1952_tr20053', 'tr_1960_tr20061', 'tr_1963_tr20064', 'tr_1966_tr20067', 'tr_1976_tr20077', 'tr_2025_tr21026', 'tr_2033_tr21034', 'tr_2058_tr21059', 'tr_205_tr03005', 'tr_2060_tr21061', 'tr_2062_tr21063', 'tr_2063_tr21064', 'tr_2065_tr21066', 'tr_2066_tr21067', 'tr_2067_tr21068', 'tr_2073_tr21074', 'tr_2095_tr21096', 'tr_2111_tr22012', 'tr_2114_tr22015', 'tr_2143_tr22044', 'tr_2158_tr22059', 'tr_2160_tr22061', 'tr_2162_tr22063', 'tr_2163_tr22064', 'tr_2165_tr22066', 'tr_2166_tr22067', 'tr_2167_tr22068', 'tr_216_tr03016', 'tr_2171_tr22072', 'tr_2173_tr22074', 'tr_2188_tr22089', 'tr_2194_tr22095', 'tr_224_tr03024', 'tr_2260_tr23061', 'tr_2262_tr23063', 'tr_2265_tr23066', 'tr_2266_tr23067', 'tr_2267_tr23068', 'tr_2268_tr23069', 'tr_2284_tr23085', 'tr_2289_tr23090', 'tr_228_tr03028', 'tr_2290_tr23091', 'tr_2306_tr24007', 'tr_2308_tr24009', 'tr_2316_tr24017', 'tr_2327_tr24028', 'tr_2360_tr24061', 'tr_2362_tr24063', 'tr_2363_tr24064', 'tr_2365_tr24066', 'tr_2366_tr24067', 'tr_2367_tr24068', 'tr_2414_tr25015', 'tr_2421_tr25022', 'tr_2422_tr25023', 'tr_2460_tr25061', 'tr_2462_tr25063', 'tr_2463_tr25064', 'tr_2465_tr25066', 'tr_2466_tr25067', 'tr_2467_tr25068', 'tr_2491_tr25092', 'tr_249_tr03049', 'tr_2524_tr26025', 'tr_2545_tr26046', 'tr_2546_tr26047', 'tr_2560_tr26061', 'tr_2562_tr26063', 'tr_2565_tr26066', 'tr_2566_tr26067', 'tr_2567_tr26068', 'tr_2571_tr26072', 'tr_2595_tr26096', 'tr_25_tr01025', 'tr_2601_tr27002', 'tr_261_tr03061', 'tr_2625_tr27026', 'tr_2643_tr27044', 'tr_2645_tr27046', 'tr_264_tr03064', 'tr_2660_tr27061', 'tr_2662_tr27063', 'tr_2663_tr27064', 'tr_2665_tr27066', 'tr_2666_tr27067', 'tr_2667_tr27068', 'tr_2668_tr27069', 'tr_267_tr03067', 'tr_268_tr03068', 'tr_2690_tr27091', 'tr_2694_tr27095', 'tr_2695_tr27096', 'tr_2760_tr28061', 'tr_2762_tr28063', 'tr_2763_tr28064', 'tr_2765_tr28066', 'tr_2766_tr28067', 'tr_2767_tr28068', 'tr_2768_tr28069', 'tr_2784_tr28085', 'tr_2790_tr28091', 'tr_2791_tr28092', 'tr_2805_tr29006', 'tr_2807_tr29008', 'tr_2843_tr29044', 'tr_2860_tr29061', 'tr_2862_tr29063', 'tr_2863_tr29064', 'tr_2865_tr29066', 'tr_2866_tr29067', 'tr_2867_tr29068', 'tr_2877_tr29078', 'tr_2948_tr30049', 'tr_2954_tr30055', 'tr_2960_tr30061', 'tr_2962_tr30063', 'tr_2963_tr30064', 'tr_2965_tr30066', 'tr_2966_tr30067', 'tr_2967_tr30068', 'tr_2968_tr30069', 'tr_2969_tr30070', 'tr_297_tr03097', 'tr_299_tr03099', 'tr_2_tr01002', 'tr_3009_tr31010', 'tr_300_tr03100', 'tr_3017_tr31018', 'tr_3019_tr31020', 'tr_3021_tr31022', 'tr_3034_tr31035', 'tr_303_tr04003', 'tr_3052_tr31053', 'tr_3060_tr31061', 'tr_3061_tr31062', 'tr_3062_tr31063', 'tr_3065_tr31066', 'tr_3066_tr31067', 'tr_3124_tr32025', 'tr_3127_tr32028', 'tr_3144_tr32045', 'tr_3159_tr32060', 'tr_3160_tr32061', 'tr_3161_tr32062', 'tr_3162_tr32063', 'tr_3165_tr32066', 'tr_3166_tr32067', 'tr_3170_tr32071', 'tr_3171_tr32072', 'tr_3211_tr33012', 'tr_3216_tr33017', 'tr_3220_tr33021', 'tr_3228_tr33029', 'tr_3250_tr33051', 'tr_3258_tr33059', 'tr_3259_tr33060', 'tr_3260_tr33061', 'tr_3261_tr33062', 'tr_3262_tr33063', 'tr_3265_tr33066', 'tr_3266_tr33067', 'tr_3280_tr33081', 'tr_3307_tr34008', 'tr_3325_tr34026', 'tr_3347_tr34048', 'tr_3360_tr34061', 'tr_3361_tr34062', 'tr_3362_tr34063', 'tr_3365_tr34066', 'tr_3366_tr34067', 'tr_3376_tr34077', 'tr_3379_tr34080', 'tr_3388_tr34089', 'tr_3394_tr34095', 'tr_3407_tr35008', 'tr_3422_tr35023', 'tr_3424_tr35025', 'tr_3425_tr35026', 'tr_3434_tr35035', 'tr_3449_tr35050', 'tr_3456_tr35057', 'tr_3460_tr35061', 'tr_3461_tr35062', 'tr_3462_tr35063', 'tr_3465_tr35066', 'tr_3466_tr35067', 'tr_3477_tr35078', 'tr_3488_tr35089', 'tr_3541_tr36042', 'tr_3548_tr36049', 'tr_3560_tr36061', 'tr_3561_tr36062', 'tr_3562_tr36063', 'tr_3565_tr36066', 'tr_3566_tr36067', 'tr_3576_tr36077', 'tr_359_tr04059', 'tr_361_tr04061', 'tr_3634_tr37035', 'tr_3642_tr37043', 'tr_3645_tr37046', 'tr_364_tr04064', 'tr_3660_tr37061', 'tr_3661_tr37062', 'tr_3662_tr37063', 'tr_3665_tr37066', 'tr_3666_tr37067', 'tr_3675_tr37076', 'tr_367_tr04067', 'tr_3680_tr37081', 'tr_3689_tr37090', 'tr_368_tr04068', 'tr_3736_tr38037', 'tr_3754_tr38055', 'tr_3760_tr38061', 'tr_3761_tr38062', 'tr_3762_tr38063', 'tr_3765_tr38066', 'tr_3766_tr38067', 'tr_3768_tr38069', 'tr_3780_tr38081', 'tr_3811_tr39012', 'tr_3833_tr39034', 'tr_3846_tr39047', 'tr_3847_tr39048', 'tr_3849_tr39050', 'tr_3860_tr39061', 'tr_3861_tr39062', 'tr_3862_tr39063', 'tr_3865_tr39066', 'tr_3866_tr39067', 'tr_3893_tr39094', 'tr_3927_tr40028', 'tr_3940_tr40041', 'tr_3941_tr40042', 'tr_3944_tr40045', 'tr_3960_tr40061', 'tr_3961_tr40062', 'tr_3962_tr40063', 'tr_3965_tr40066', 'tr_3966_tr40067', 'tr_3970_tr40071', 'tr_3976_tr40077', 'tr_3979_tr40080', 'tr_3988_tr40089', 'tr_3998_tr40099', 'tr_4002_tr41003', 'tr_4060_tr41061', 'tr_4061_tr41062', 'tr_4062_tr41063', 'tr_4063_tr41064', 'tr_4064_tr41065', 'tr_4065_tr41066', 'tr_4066_tr41067', 'tr_4068_tr41069', 'tr_406_tr05006', 'tr_4115_tr42016', 'tr_4117_tr42018', 'tr_4123_tr42024', 'tr_4124_tr42025', 'tr_4160_tr42061', 'tr_4161_tr42062', 'tr_4162_tr42063', 'tr_4163_tr42064', 'tr_4164_tr42065', 'tr_4165_tr42066', 'tr_4166_tr42067', 'tr_4190_tr42091', 'tr_4198_tr42099', 'tr_4206_tr43007', 'tr_4211_tr43012', 'tr_4243_tr43044', 'tr_4245_tr43046', 'tr_425_tr05025', 'tr_4260_tr43061', 'tr_4261_tr43062', 'tr_4262_tr43063', 'tr_4263_tr43064', 'tr_4264_tr43065', 'tr_4265_tr43066', 'tr_4266_tr43067', 'tr_4268_tr43069', 'tr_4271_tr43072', 'tr_4278_tr43079', 'tr_4281_tr43082', 'tr_4288_tr43089', 'tr_4311_tr44012', 'tr_4317_tr44018', 'tr_4321_tr44022', 'tr_4323_tr44024', 'tr_4340_tr44041', 'tr_4348_tr44049', 'tr_4349_tr44050', 'tr_4360_tr44061', 'tr_4361_tr44062', 'tr_4362_tr44063', 'tr_4363_tr44064', 'tr_4364_tr44065', 'tr_4365_tr44066', 'tr_4366_tr44067', 'tr_4398_tr44099', 'tr_439_tr05039', 'tr_4444_tr45045', 'tr_4450_tr45051', 'tr_4460_tr45061', 'tr_4461_tr45062', 'tr_4462_tr45063', 'tr_4463_tr45064', 'tr_4464_tr45065', 'tr_4465_tr45066', 'tr_4466_tr45067', 'tr_4473_tr45074', 'tr_4484_tr45085', 'tr_4521_tr46022', 'tr_4541_tr46042', 'tr_4560_tr46061', 'tr_4561_tr46062', 'tr_4562_tr46063', 'tr_4563_tr46064', 'tr_4564_tr46065', 'tr_4565_tr46066', 'tr_4566_tr46067', 'tr_4568_tr46069', 'tr_4573_tr46074', 'tr_458_tr05058', 'tr_4600_tr47001', 'tr_4602_tr47003', 'tr_461_tr05061', 'tr_4621_tr47022', 'tr_464_tr05064', 'tr_4660_tr47061', 'tr_4661_tr47062', 'tr_4662_tr47063', 'tr_4663_tr47064', 'tr_4664_tr47065', 'tr_4665_tr47066', 'tr_4666_tr47067', 'tr_4668_tr47069', 'tr_4676_tr47077', 'tr_467_tr05067', 'tr_468_tr05068', 'tr_4701_tr48002', 'tr_4707_tr48008', 'tr_4716_tr48017', 'tr_4721_tr48022', 'tr_4734_tr48035', 'tr_4741_tr48042', 'tr_4743_tr48044', 'tr_4746_tr48047', 'tr_4756_tr48057', 'tr_4760_tr48061', 'tr_4761_tr48062', 'tr_4762_tr48063', 'tr_4763_tr48064', 'tr_4764_tr48065', 'tr_4765_tr48066', 'tr_4766_tr48067', 'tr_4788_tr48089', 'tr_478_tr05078', 'tr_4798_tr48099', 'tr_47_tr01047', 'tr_4800_tr49001', 'tr_4804_tr49005', 'tr_4827_tr49028', 'tr_4850_tr49051', 'tr_4856_tr49057', 'tr_4857_tr49058', 'tr_4860_tr49061', 'tr_4861_tr49062', 'tr_4862_tr49063', 'tr_4863_tr49064', 'tr_4864_tr49065', 'tr_4865_tr49066', 'tr_4866_tr49067', 'tr_4873_tr49074', 'tr_4876_tr49077', 'tr_4891_tr49092', 'tr_4913_tr50014', 'tr_4947_tr50048', 'tr_495_tr05095', 'tr_4960_tr50061', 'tr_4961_tr50062', 'tr_4962_tr50063', 'tr_4963_tr50064', 'tr_4964_tr50065', 'tr_4965_tr50066', 'tr_4966_tr50067', 'tr_4972_tr50073', 'tr_4974_tr50075', 'tr_497_tr05097', 'tr_4980_tr50081', 'tr_5000_tr51001', 'tr_5001_tr51002', 'tr_5018_tr51019', 'tr_5020_tr51021', 'tr_5021_tr51022', 'tr_5022_tr51023', 'tr_5040_tr51041', 'tr_5051_tr51052', 'tr_5060_tr51061', 'tr_5062_tr51063', 'tr_5066_tr51067', 'tr_5067_tr51068', 'tr_506_tr06006', 'tr_5076_tr51077', 'tr_5121_tr52022', 'tr_513_tr06013', 'tr_5146_tr52047', 'tr_5156_tr52057', 'tr_5160_tr52061', 'tr_5162_tr52063', 
 'tr_5166_tr52067',
 'tr_5167_tr52068', 'tr_5177_tr52078', 'tr_5179_tr52080', 'tr_5192_tr52093', 'tr_5202_tr53003', 'tr_5214_tr53015', 'tr_5232_tr53033', 'tr_5251_tr53052', 'tr_5254_tr53055', 'tr_5260_tr53061', 'tr_5262_tr53063', 'tr_5263_tr53064', 'tr_5266_tr53067', 'tr_5267_tr53068', 'tr_5314_tr54015', 'tr_5329_tr54030', 'tr_5356_tr54057', 'tr_5360_tr54061', 'tr_5362_tr54063', 'tr_5363_tr54064', 'tr_5366_tr54067', 'tr_5367_tr54068', 'tr_5377_tr54078', 'tr_5414_tr55015', 'tr_5419_tr55020', 'tr_5440_tr55041', 'tr_5443_tr55044', 'tr_5460_tr55061', 'tr_5462_tr55063', 'tr_5466_tr55067', 'tr_5467_tr55068', 'tr_5509_tr56010', 'tr_5512_tr56013', 'tr_5544_tr56045', 'tr_5560_tr56061', 'tr_5562_tr56063', 'tr_5566_tr56067', 'tr_5567_tr56068', 'tr_5580_tr56081', 'tr_5595_tr56096', 'tr_561_tr06061', 'tr_5632_tr57033', 'tr_5634_tr57035', 'tr_564_tr06064', 'tr_5652_tr57053', 'tr_5660_tr57061', 'tr_5662_tr57063', 'tr_5666_tr57067', 'tr_5667_tr57068', 'tr_5668_tr57069', 'tr_567_tr06067', 'tr_568_tr06068', 'tr_5705_tr58006', 'tr_570_tr06070', 'tr_5720_tr58021', 'tr_5723_tr58024', 'tr_5744_tr58045', 'tr_5754_tr58055', 'tr_5760_tr58061', 'tr_5762_tr58063', 'tr_5763_tr58064', 'tr_5766_tr58067', 'tr_5767_tr58068', 'tr_5769_tr58070', 'tr_5772_tr58073', 'tr_5781_tr58082', 'tr_579_tr06079', 'tr_57_tr01057', 'tr_5806_tr59007', 'tr_5813_tr59014', 'tr_5820_tr59021', 'tr_5860_tr59061', 'tr_5862_tr59063', 'tr_5866_tr59067', 'tr_5867_tr59068', 'tr_5901_tr60002', 'tr_5912_tr60013', 'tr_5920_tr60021', 'tr_5921_tr60022', 'tr_5954_tr60055', 'tr_5960_tr60061', 'tr_5962_tr60063', 'tr_5966_tr60067', 'tr_5967_tr60068', 'tr_596_tr06096', 'tr_5990_tr60091', 'tr_6000_tr61001', 'tr_603_tr07003', 'tr_6048_tr61049', 'tr_604_tr07004', 'tr_6060_tr61061', 'tr_6063_tr61064', 'tr_6065_tr61066', 'tr_6066_tr61067', 'tr_6067_tr61068', 'tr_6078_tr61079', 'tr_6091_tr61092', 'tr_6096_tr61097', 'tr_6109_tr62010', 'tr_6120_tr62021', 'tr_6144_tr62045', 'tr_6163_tr62064', 'tr_6165_tr62066', 'tr_6166_tr62067', 'tr_6167_tr62068', 'tr_6172_tr62073', 'tr_6189_tr62090', 'tr_6199_tr62100', 'tr_61_tr01061', 'tr_6201_tr63002', 'tr_6204_tr63005', 'tr_6218_tr63019', 'tr_6241_tr63042', 'tr_6247_tr63048', 'tr_6248_tr63049', 'tr_6256_tr63057', 'tr_6260_tr63061', 'tr_6263_tr63064', 'tr_6265_tr63066', 'tr_6266_tr63067', 'tr_6267_tr63068', 'tr_6272_tr63073', 'tr_6275_tr63076', 'tr_6280_tr63081', 'tr_6300_tr64001', 'tr_6303_tr64004', 'tr_6314_tr64015', 'tr_6318_tr64019', 'tr_6340_tr64041', 'tr_6351_tr64052', 'tr_6360_tr64061', 'tr_6363_tr64064', 'tr_6365_tr64066', 'tr_6366_tr64067', 'tr_6367_tr64068', 'tr_6370_tr64071', 'tr_6385_tr64086', 'tr_6396_tr64097', 'tr_6400_tr65001', 'tr_6404_tr65005', 'tr_6415_tr65016', 'tr_6418_tr65019', 'tr_643_tr07043', 'tr_6440_tr65041', 'tr_6460_tr65061', 'tr_6463_tr65064', 'tr_6465_tr65066', 'tr_6466_tr65067', 'tr_6467_tr65068', 'tr_6470_tr65071', 'tr_6478_tr65079', 'tr_6480_tr65081', 'tr_648_tr07048', 'tr_64_tr01064', 'tr_6522_tr66023', 'tr_6523_tr66024', 'tr_6542_tr66043', 'tr_6545_tr66046', 'tr_6549_tr66050', 'tr_6560_tr66061', 'tr_6563_tr66064', 'tr_6565_tr66066', 'tr_6566_tr66067', 'tr_6567_tr66068', 'tr_6574_tr66075', 'tr_6579_tr66080', 'tr_6590_tr66091', 'tr_6610_tr67011', 'tr_661_tr07061', 'tr_6625_tr67026', 'tr_664_tr07064', 'tr_6660_tr67061', 'tr_6663_tr67064', 'tr_6665_tr67066', 'tr_6666_tr67067', 'tr_6667_tr67068', 'tr_667_tr07067', 'tr_6688_tr67089', 'tr_668_tr07068', 'tr_6715_tr68016', 'tr_6726_tr68027', 'tr_6745_tr68046', 'tr_6757_tr68058', 'tr_6758_tr68059', 'tr_6760_tr68061', 'tr_6763_tr68064', 'tr_6765_tr68066', 'tr_6766_tr68067', 'tr_6767_tr68068', 'tr_6773_tr68074', 'tr_6796_tr68097', 'tr_67_tr01067', 'tr_6821_tr69022', 'tr_6857_tr69058', 'tr_6860_tr69061', 'tr_6863_tr69064', 'tr_6865_tr69066', 'tr_6866_tr69067', 'tr_6867_tr69068', 'tr_6880_tr69081', 'tr_6891_tr69092', 'tr_6894_tr69095', 'tr_6896_tr69097', 'tr_68_tr01068', 'tr_6907_tr70008', 'tr_6913_tr70014', 'tr_6914_tr70015', 'tr_6920_tr70021', 'tr_6923_tr70024', 'tr_6946_tr70047', 'tr_6960_tr70061', 'tr_6963_tr70064', 'tr_6965_tr70066', 'tr_6966_tr70067', 'tr_6967_tr70068', 'tr_6968_tr70069', 'tr_6974_tr70075', 'tr_6978_tr70079', 'tr_6995_tr70096', 'tr_7000_tr71001', 'tr_7004_tr71005', 'tr_7017_tr71018', 'tr_702_tr08002', 'tr_7045_tr71046', 'tr_7049_tr71050', 'tr_7050_tr71051', 'tr_7060_tr71061', 'tr_7061_tr71062', 'tr_7065_tr71066', 'tr_7066_tr71067', 'tr_7077_tr71078', 'tr_7095_tr71096', 'tr_7113_tr72014', 'tr_7114_tr72015', 'tr_7126_tr72027', 'tr_7141_tr72042', 'tr_7160_tr72061', 'tr_7161_tr72062', 'tr_7165_tr72066', 'tr_7166_tr72067', 'tr_7189_tr72090', 'tr_7200_tr73001', 'tr_7201_tr73002', 'tr_7209_tr73010', 'tr_7212_tr73013', 'tr_7226_tr73027', 'tr_722_tr08022', 'tr_7247_tr73048', 'tr_7249_tr73050', 'tr_7260_tr73061', 'tr_7261_tr73062', 'tr_7265_tr73066', 'tr_7266_tr73067', 'tr_7302_tr74003', 'tr_7311_tr74012', 'tr_7340_tr74041', 'tr_7353_tr74054', 'tr_7360_tr74061', 'tr_7361_tr74062', 'tr_7365_tr74066', 'tr_7366_tr74067', 'tr_7372_tr74073', 'tr_7379_tr74080', 'tr_7422_tr75023', 'tr_7447_tr75048', 'tr_7454_tr75055', 'tr_745_tr08045', 'tr_7460_tr75061', 'tr_7461_tr75062', 'tr_7465_tr75066', 'tr_7466_tr75067', 'tr_7475_tr75076', 'tr_7482_tr75083', 'tr_74_tr01074', 'tr_7512_tr76013', 'tr_7518_tr76019', 'tr_7521_tr76022', 'tr_7524_tr76025', 'tr_7547_tr76048', 'tr_7557_tr76058', 'tr_7560_tr76061', 'tr_7561_tr76062', 'tr_7565_tr76066', 'tr_7566_tr76067', 'tr_7617_tr77018', 'tr_761_tr08061', 'tr_7631_tr77032', 'tr_764_tr08064', 'tr_7654_tr77055', 'tr_7657_tr77058', 'tr_7660_tr77061', 'tr_7661_tr77062', 'tr_7665_tr77066', 'tr_7666_tr77067', 'tr_767_tr08067', 'tr_768_tr08068', 'tr_769_tr08069', 'tr_7711_tr78012', 'tr_7756_tr78057', 'tr_7760_tr78061', 'tr_7761_tr78062', 'tr_7765_tr78066', 'tr_7766_tr78067', 'tr_7774_tr78075', 'tr_7791_tr78092', 'tr_7792_tr78093', 'tr_7815_tr79016', 'tr_7824_tr79025', 'tr_7826_tr79027', 'tr_7856_tr79057', 'tr_7860_tr79061', 'tr_7861_tr79062', 'tr_7865_tr79066', 'tr_7866_tr79067', 'tr_7885_tr79086', 'tr_7919_tr80020', 'tr_7936_tr80037', 'tr_793_tr08093', 'tr_794_tr08094', 'tr_7953_tr80054', 'tr_7957_tr80058', 'tr_7960_tr80061', 'tr_7961_tr80062', 'tr_7965_tr80066', 'tr_7966_tr80067', 'tr_797_tr08097', 'tr_8001_tr81002', 'tr_8009_tr81010', 'tr_8021_tr81022', 'tr_8024_tr81025', 'tr_802_tr09002', 'tr_804_tr09004', 'tr_8055_tr81056', 'tr_8065_tr81066', 'tr_8069_tr81070', 'tr_807_tr09007', 'tr_8104_tr81105', 'tr_8118_tr81119', 'tr_8134_tr82015', 'tr_8141_tr82022', 'tr_8172_tr82053', 'tr_818_tr09018', 'tr_8206_tr82087', 'tr_8226_tr82107', 'tr_823_tr09023', 'tr_8262_tr83023', 'tr_8295_tr83056', 'tr_8299_tr83060', 'tr_8326_tr83087', 'tr_8334_tr83095', 'tr_8348_tr83109', 'tr_8353_tr83114', 'tr_8357_tr83118', 'tr_8358_tr83119', 'tr_8371_tr84012', 'tr_8381_tr84022', 'tr_8421_tr84062', 'tr_8446_tr84087', 'tr_8510_tr85031', 'tr_8514_tr85035', 'tr_8540_tr85061', 'tr_8566_tr85087', 'tr_8605_tr86006', 'tr_8612_tr86013', 'tr_8613_tr86014', 'tr_861_tr09061', 'tr_8628_tr86029', 'tr_8629_tr86030', 'tr_864_tr09064', 'tr_8657_tr86058', 'tr_867_tr09067', 'tr_8680_tr86081', 'tr_868_tr09068', 'tr_8703_tr86104', 'tr_8708_tr86109', 'tr_8713_tr86114', 'tr_8715_tr86116', 'tr_8720_tr87001', 'tr_8731_tr87012', 'tr_8732_tr87013', 'tr_8739_tr87020', 'tr_8775_tr87056', 'tr_8780_tr87061', 'tr_8787_tr87068', 'tr_8797_tr87078', 'tr_8825_tr87106', 'tr_8828_tr87109', 'tr_8829_tr87110', 'tr_8830_tr87111', 'tr_8832_tr87113', 'tr_8835_tr87116', 'tr_8841_tr88002', 'tr_8853_tr88014', 'tr_8899_tr88060', 'tr_8936_tr88097', 'tr_8956_tr88117', 'tr_8975_tr89016', 'tr_8977_tr89018', 'tr_8988_tr89029', 'tr_8994_tr89035', 'tr_9017_tr89058', 'tr_9021_tr89062', 'tr_9039_tr89080', 'tr_903_tr10003', 'tr_9055_tr89096', 'tr_9056_tr89097', 'tr_9057_tr89098', 'tr_905_tr10005', 'tr_9063_tr89104', 'tr_9084_tr90005', 'tr_9113_tr90034', 'tr_9119_tr90040', 'tr_9136_tr90057', 'tr_9149_tr90070', 'tr_9187_tr90108', 'tr_9191_tr90112', 'tr_9195_tr90116', 'tr_9203_tr091004', 'tr_9222_tr091023', 'tr_9239_tr091040', 'tr_9258_tr091059', 'tr_9287_tr091089', 'tr_9321_tr092003', 'tr_9342_tr092024', 'tr_938_tr10039', 'tr_9390_tr092072', 'tr_939_tr10040', 'tr_942_tr10043', 'tr_9448_tr093010', 'tr_9465_tr093027', 'tr_9496_tr093058', 'tr_9560_tr094002', 'tr_960_tr10061', 'tr_9614_tr094056', 'tr_9615_tr094057', 'tr_9618_tr094060', 'tr_9638_tr094080', 'tr_963_tr10064', 'tr_966_tr10067', 'tr_967_tr10068', 'tr_9697_tr095019', 'tr_9703_tr095025', 'tr_9706_tr095028', 'tr_9734_tr095056', 'tr_9739_tr095061', 'tr_9740_tr095062', 'tr_9756_tr095078', 'tr_9810_tr096012', 'tr_9818_tr096020', 'tr_9832_tr096034', 'tr_9869_tr096071', 'tr_9874_tr096076', 'tr_990_tr10091', 'tr_9923_tr097005', 'tr_9930_tr097012', 'tr_9934_tr097016', 'tr_996_tr10097', 'tr_9988_tr097070', 'tr_9999_tr097081']

def augmentTrainData(augmentation_count=1, natural_noise_count =3):
    with open("text.txt", "r") as file:
        newfile = open("text_new.txt", "w", encoding="utf-8")
        
        lines = file.readlines()
        for a in lines:
            b = a.split(" ", maxsplit=1)
            signal_file=f'wav/{b[0]}.wav'
            signal, sr = librosa.load(signal_file)
            signal=np.interp(signal, (signal.min(), signal.max()), (-1, 1))
            add = 0
            if random.random() > 0.7:
                add=1
            elif random.random() >0.6:
                add =2
                
            for i in range(augmentation_count+add):
                #analyze the frequency components in the signal
                if random.random() > 0.5:
                    noise=ap.get_white_noise(signal,SNR=10)
                else:
                    noise = random_noise()
                    if(len(noise)>len(signal)):
                        noise=noise[0:len(signal)]
                        noise=ap.get_noise_from_sound(signal,noise,SNR=20)
                        for n in range(natural_noise_count):
                            new_noise = random_noise()
                            if random.random() > 0.3 and len(new_noise)>=len(signal):
                            # if len(new_noise)>=len(signal):
                                new_noise = ap.get_noise_from_sound(signal,new_noise, SNR=20)
                                noise = noise + new_noise[0:len(signal)]
                            else:
                                new_noise = ap.get_white_noise(signal,SNR=20)
                                noise = noise + new_noise[0:len(signal)]
                            
                    elif len(noise)<len(signal):
                        noise=ap.get_white_noise(signal,SNR=10)
                
                signal_noise=signal+noise
                
                ap.write(f"audio_processing/wav_new/{b[0]}{i}.wav", sr, signal_noise)
                newfile.write(f"{b[0]}{i} {b[1].strip()}\n")
                
        newfile.close()
        

def random_noise():
    noise_file= "../train/wav/"+noise_sources[random.randint(0, 985)]+".wav"
    noise, sr = librosa.load(noise_file)
    return np.interp(noise, (noise.min(), noise.max()), (-1, 1))


def get_long_sentences():
    rankMap  = []
    smallest = 0
    count =0
    with open("../train/text.txt", "r", encoding="utf-8") as file:
        lines = file.readlines()
        lengths = 0
        count = 0
        dcount = 0
        for a in lines:
            count +=1
            if len(a)>120:
                print(len(a))
                dcount+=1
                rankMap.append(a.split(" ", 1)[0])
            lengths+=len(a)
        print("Average: ", (lengths/count), " DCount: ", dcount)
        print(rankMap)
        #     if count < 100 or len(a)> smallest:
        #         if count ==0:
        #             smallest = len(a)
        #         elif len(a) < smallest:
        #             pass
        # print(rankMap)

if __name__ == "__main__":
    augmentTrainData(augmentation_count=1)
    # get_long_sentences()